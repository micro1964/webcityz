function wallFX(e,t){function o(){u.setStyle("width",d.getSize().x+"px");var e=0;u.each(function(t,i){var o=t.getSize().y;o>e&&(e=o)}),d.setStyle("height",e+"px")}function n(){1==u.length?(p&&p.setStyle("opacity",.5),x&&x.setStyle("opacity",.5)):0==v?(p&&p.setStyle("opacity",.5),x&&x.setStyle("opacity",1)):v==u.length-1?(p&&p.setStyle("opacity",1),x&&x.setStyle("opacity",.5)):(p&&p.setStyle("opacity",1),x&&x.setStyle("opacity",1))}function a(e){switch(u[v].removeClass("current"),"undefined"!=typeof f[v]&&f[v].removeClass("current"),t.fxmode){case"slideVer":edge="top",viewsize=d.getSize().y;break;case"slideHor":edge="ltr"==getComputedStyle(d).direction?"left":"right",viewsize=d.getSize().x}v=e,newpos=v*viewsize*-1,y.tween(edge,newpos),u[v].addClass("current"),"undefined"!=typeof f[v]&&f[v].addClass("current"),n()}function l(e){u[v].removeClass("current"),"undefined"!=typeof f[v]&&f[v].removeClass("current"),c.oldPage=v,v=e,u[c.oldPage].fade("out"),u[c.oldPage].setStyle("z-index","0"),u[v].fade("in"),u[v].setStyle("z-index","1"),u[v].addClass("current"),"undefined"!=typeof f[v]&&f[v].addClass("current"),n()}function s(e){if(e>=0&&e<u.length)switch("number"==typeof animationloop&&clearInterval(animationloop),t.fxmode){case"fade":l(e);break;case"slideHor":a(e);break;case"slideVer":a(e)}}var c=$(e);if("undefined"!=typeof c){c.loopdirection=1;var d=c.getElementById("wallview"+e);if("undefined"!=typeof d){var r=d.getElement(".wallspinner"),y=d.getElementById("wallslider"+e),p=c.getElementById("prev"+e),x=c.getElementById("next"+e),f=c.getElements(".pag"+e),u=y.getElements(".wallpage");y.getElements(".wallelement");if(u.length>1){"fade"==t.fxmode?u.each(function(e){e.set("tween",{duration:t.fxspeed,transition:t.fxtype,link:"cancel"})}):y.set("tween",{duration:t.fxspeed,transition:t.fxtype,link:"cancel"});var g=function(){switch(v==u.length-1&&(c.loopdirection=-1),0==v&&(c.loopdirection=1),i=v+c.loopdirection,t.fxmode){case"fade":l(i);break;case"slideHor":a(i);break;case"slideVer":a(i)}};"undefined"!=typeof t.fxpause&&t.fxpause>=0&&(animationloop=g.periodical(t.fxpause)),p&&p.addEvent("click",function(e){s(v-1)}),x&&x.addEvent("click",function(e){s(v+1)}),f.each(function(e,t){e.addEvent("click",function(e){s(t)})})}"fade"==t.fxmode&&u.setStyles({position:"absolute",top:0,left:0,opacity:0,"z-index":0}),r?(r.setStyle("display","none"),d.setStyle("background","none")):d.setStyle("background","none"),o(),window.addEvent("resize",function(){o()}),1==t.onclick&&window.addEvent("click",function(){o()});var v=parseInt(t.slidestart);if(0>v?v=0:v>u.length&&(v=u.length),u[v].addClass("current"),"undefined"!=typeof f[v]&&f[v].addClass("current"),"fade"==t.fxmode)u[v].setStyles({opacity:1,"z-index":1});else{switch(t.fxmode){case"slideVer":edge="top",viewsize=d.getSize().y;break;case"slideHor":edge="left",viewsize=d.getSize().x}newpos=v*viewsize*-1,y.setStyle(edge,newpos)}n(),c.setStyle("z-index",t.fxlayer),y.setStyle("visibility","visible")}}}function jxtchover(e,t,i){if($(e)){var o=$(e).getElements(".js_hover");o.each(function(e){e.setStyles({"background-color":"#"+i});var o=new Fx.Morph(e,{duration:200,link:"cancel"});e.addEvent("mouseenter",function(){o.start({"background-color":"#"+t})}),e.addEvent("mouseleave",function(){o.start({"background-color":"#"+i})})})}}function jxtcpops(e,t){var i=$(e);if(i){var o=i.getElements(".popuphover"),n=0,a=0,l=0,s=0,c=new Element("div",{styles:{opacity:0,display:"none"}});c.inject(document.body),c.addClass("jxtcpopup");var d=new Element("div");d.addClass("jxtcinner");var r=new Element("div",{title:"Close"});r.addClass("jxtcpopupclose");var y=new Element("div",{title:"Move"});y.addClass("jxtcpopupdrag"),r.inject(c),y.inject(c),d.inject(c);var p=new Fx.Morph(c,{duration:t.durationin,transition:t.fxtype,link:"cancel"});r.addEvent("click",function(){p.start({top:window.getScrollTop()+n,left:window.getScrollLeft()+l,opacity:t.opacityout}).chain(function(){c.setStyles({display:"none"})})}),o.each(function(e,i){var o=e.getElement(".pop");o.setStyles({display:"none"}),r.addEvent("click",function(){(function(){o.setStyles({display:"none"}),e.adopt(o)}).delay(t.durationin)}),e.addEvent("click",function(){if(c.setStyles({position:"absolute",display:"block"}),c.makeDraggable(),d.adopt(o),o.setStyles({display:"block"}),c.setStyles({height:"auto",top:window.getScrollTop()+t.verticalout+"px",left:window.getScrollLeft()+t.horizontalout+"px"}),"1"==t.centered){var e=c.getSize().x;c.getSize().y;c.setStyles({top:window.getScrollTop()+(window.getHeight()-c.getSize().y)/2+"px",left:(window.getScrollLeft()+window.getWidth()-e)/2+"px"}),n=a=(window.getHeight()-c.getSize().y)/2,l=s=(window.getScrollLeft()+window.getWidth()-e)/2}p.start({top:window.getScrollTop()+a,left:window.getScrollLeft()+s,opacity:t.opacityin}),d.setStyles({width:d.getSize().x,height:d.getSize().y})})})}}function jxtctips(e,t){var i=$(e);if(i){var o=i.getElements(".jxtctooltip");o.each(function(e,o){var n=e.getElement(".tip");if(null!=n){tipx=e.getPosition(i).x+"px",tipy=e.getPosition(i).y+"px",i.adopt(n),n.setStyles({opacity:0,display:"block",bottom:"auto",right:"auto",width:e.getSize().x+"px",overflow:"visible","z-index":9999,position:"absolute",left:tipx,top:tipy});var a=new Fx.Morph(n,{duration:t.durationin,transtion:t.fxtype,link:"cancel"}),l=new Fx.Morph(n,{duration:t.durationout,transtion:t.fxtype,link:"cancel"}),s=new Fx.Morph(n,{duration:t.pause,link:"ignore"});e.addEvent("mouseenter",function(){a.start({opacity:t.opacityin,top:e.getPosition(i).y+t.verticalin+"px",left:e.getPosition(i).x+t.horizontalin+"px"})}),e.addEvent("mouseleave",function(){s.start({}).chain(function(){l.start({opacity:t.opacityout,top:e.getPosition(i).y+t.verticalout+"px",left:e.getPosition(i).x+t.horizontalout+"px"})})}),n.addEvent("mouseenter",function(){s.pause(),a.start({opacity:t.opacityin,top:e.getPosition(i).y+t.verticalin+"px",left:e.getPosition(i).x+t.horizontalin+"px"})})}})}}function slidebox(e,t,i,o){var n=$(e);if(n){var a=n.getElements(".slidebox"),l=i;a.each(function(e,i){e.setStyles({overflow:"hidden",position:"relative"});var n=e.getElement(".slidepanel");n.setStyles({position:"relative"}),function(){var i=e.getSize();switch(t){case"RSO":l.xi=i.x,l.xo=0,l.yi=0,l.yo=0;break;case"RSI":l.xo=i.x,l.xi=0,l.yi=0,l.yo=0;break;case"LSO":l.xi=-i.x,l.xo=0,l.yi=0,l.yo=0;break;case"LSI":l.xo=-i.x,xi=0,l.yi=0,l.yo=0;break;case"BSO":l.yi=i.y,l.yo=0,l.xi=0,l.xo=0;break;case"BSI":l.yo=i.y,l.yi=0,l.xi=0,l.xo=0;break;case"TSO":l.yo=i.y,l.yi=0,l.xi=0,l.xo=0;break;case"TSI":l.yo=-i.y,l.yi=0,l.xi=0,l.xo=0;break;case"TRSO":l.xi=i.x,l.xo=0,l.yi=-i.y,l.yo=0;break;case"TRSI":l.xo=i.x,l.xi=0,l.yo=-i.y,l.yi=0;break;case"TLSO":l.xi=-i.x,l.xo=0,l.yi=-i.y,l.yo=0;break;case"TLSI":l.xo=-i.x,l.xi=0,l.yo=-i.y,l.yi=0;break;case"BRSO":l.xi=i.x,l.xo=0,l.yi=i.y,l.yo=0;break;case"BRSI":l.xo=i.x,l.xi=0,l.yo=i.y,l.yi=0;break;case"BLSO":l.xi=-i.x,l.xo=0,l.yi=i.y,l.yo=0;break;case"BLSI":l.xo=-i.x,l.xi=0,l.yo=i.y,l.yi=0}n.setStyles({top:l.yo,left:l.xo})}.delay(100);var a=new Fx.Morph(n,{duration:o.dura,fps:o.frames,transition:o.fxtype,link:"cancel"});e.addEvent("mouseenter",function(){a.start({top:l.yi,left:l.xi})}),e.addEvent("mouseleave",function(){a.start({top:l.yo,left:l.xo})})})}}